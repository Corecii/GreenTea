<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Development and Contribution Info | GreenTea</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://corecii.github.io/GreenTea/DEVELOPMENT"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Development and Contribution Info | GreenTea"><meta data-rh="true" name="description" content="Workspace Setup"><meta data-rh="true" property="og:description" content="Workspace Setup"><link data-rh="true" rel="icon" href="/GreenTea/favicon.ico"><link data-rh="true" rel="canonical" href="https://corecii.github.io/GreenTea/DEVELOPMENT"><link data-rh="true" rel="alternate" href="https://corecii.github.io/GreenTea/DEVELOPMENT" hreflang="en"><link data-rh="true" rel="alternate" href="https://corecii.github.io/GreenTea/DEVELOPMENT" hreflang="x-default"><link rel="stylesheet" href="/GreenTea/assets/css/styles.19a5646f.css">
<link rel="preload" href="/GreenTea/assets/js/runtime~main.64b2da8d.js" as="script">
<link rel="preload" href="/GreenTea/assets/js/main.586aa33d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/GreenTea/"><b class="navbar__title text--truncate">GreenTea</b></a><a class="navbar__item navbar__link" href="/GreenTea/api/">API</a><a class="navbar__item navbar__link" href="/GreenTea/changelog">Changelog</a><a class="navbar__item navbar__link" href="/GreenTea/Development">Development</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/GreenTea/Development#doc-comments">(the / before newlines is not a bug)</a><a href="https://github.com/corecii/greentea" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><h1>Development and Contribution Info</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workspace-setup">Workspace Setup<a href="#workspace-setup" class="hash-link" aria-label="Direct link to Workspace Setup" title="Direct link to Workspace Setup">​</a></h2><ul><li>This project uses aftman to manage tooling.</li><li>This project uses rojo to build and test the library.</li><li>This project uses lune to run development scripts.</li><li>This project uses wally to manage dependencies, plus wally-package-types and wally-patch-package.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading">Upgrading<a href="#upgrading" class="hash-link" aria-label="Direct link to Upgrading" title="Direct link to Upgrading">​</a></h2><p>Ideally all major versions of GreenTea should use the same internal objects so that
<code>GreenTea.isGreenTeaType</code> is true across all objects. This creates a split between major versions:</p><ul><li>&quot;major-major&quot; versions: these have breaking changes that don&#x27;t allow us to unify the objects types</li><li>&quot;major-minor&quot; versions: these have breaking changes that allow us to unify the objects types</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="major-minor-versions">Major-minor Versions<a href="#major-minor-versions" class="hash-link" aria-label="Direct link to Major-minor Versions" title="Direct link to Major-minor Versions">​</a></h3><p>We can use a <a href="https://github.com/dtolnay/semver-trick" target="_blank" rel="noopener noreferrer">semver-trick</a> to help unify internal objects.</p><p>For example, say we want to change <code>GreenTea.string({ graphemes = &quot;...&quot; })</code> from not requiring <code>bytes</code> to be defined to requiring it to be defined (as it is now):</p><ul><li><code>v1.0.0</code> <em>does not</em> require the user to specify <code>bytes</code>.</li><li><code>v2.0.0</code> <em>does</em> require the user to specify <code>bytes</code>.</li><li><code>v1.0.1</code> takes <code>V2.0.0</code> as a dependency, and returns a copy of <code>v2.0.0</code> with <code>GreenTea.string</code> modified to
include a default value for <code>bytes</code> if it is not specified.</li></ul><p>In this manner, <code>v1.0.1</code>&#x27;s internal objects are exactly the same as <code>v2.0.0</code>&#x27;s, and they&#x27;ll be
<code>GreenTea.isGreenTeaType</code> compatible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="major-major-versions">Major-major Versions<a href="#major-major-versions" class="hash-link" aria-label="Direct link to Major-major Versions" title="Direct link to Major-major Versions">​</a></h3><p>For these, it&#x27;s mostly like a typical major upgrade, except we should make <code>GreenTea.typeof</code> take in previous versions&#x27; types and convert them. This gives an option for libraries expecting GreenTea types
to compose with libraries that use previous versions.</p><p>Ideally, we should also do the inverse: make the previous version able to take in a newer GreenTea&#x27;s Type and compose with it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wally">Wally<a href="#wally" class="hash-link" aria-label="Direct link to Wally" title="Direct link to Wally">​</a></h2><p>Wally is used to manage dependencies, but we also need types and patches.</p><p>The easiest way to do this is to run the lune script: <code>lune run wally-install</code> .
Alternatively, go read the lune script and see what it does.</p><p>We only use package patches to fix some output issues with jest-lua.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests">Tests<a href="#tests" class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests">​</a></h2><p>Tests are ran using jest-lua. These require a fflag to be set.</p><p>A Lune script exists to set this flag: <code>lune run enable-loadmodule</code> . This...</p><ul><li>Finds the Roblox install directory, and the Roblox Studio&#x27;s version folder</li><li>Finds or creates <code>ClientSettings/ClientAppSettings.json</code></li><li>Sets the flag in that file</li><li>Sets the file to read-only, so Roblox doesn&#x27;t overwrite it on startup.</li></ul><p>This is only implemented for Windows, because I only have a Windows machine.
If you have a Mac feel free to implement this for your platform in the lune script.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="luau-rules">Luau Rules<a href="#luau-rules" class="hash-link" aria-label="Direct link to Luau Rules" title="Direct link to Luau Rules">​</a></h2><p>We disable LocalShadow because it&#x27;s the only way to redefine a variable&#x27;s types.
We&#x27;d like to remove this when it&#x27;s not longer necessary.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="doc-comments">Doc Comments<a href="#doc-comments" class="hash-link" aria-label="Direct link to Doc Comments" title="Direct link to Doc Comments">​</a></h2><p>Doc comments should be compatible with both moonwave and with luau-lsp.</p><p>This poses a problem for newlines: luau-lsp only works with <code>\</code> for newlines, but moonwave only works with double-spaces for newlines.</p><p>For now, we combine these two. This makes the moonwave docs look funny, because it won&#x27;t omit the <code>\</code> before newlines, but 🤷‍♀️ what can you do.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="license-credits">License Credits<a href="#license-credits" class="hash-link" aria-label="Direct link to License Credits" title="Direct link to License Credits">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="favicon">Favicon<a href="#favicon" class="hash-link" aria-label="Direct link to Favicon" title="Direct link to Favicon">​</a></h3><p>The favicon is <a href="https://github.com/microsoft/fluentui-emoji/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">from Microsoft&#x27;s emoji set, under the MIT license.</a></p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>See the license</summary><div><div class="collapsibleContent_i85q"><p>MIT License</p><p>Copyright (c) Microsoft Corporation.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE</p></div></div></details></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#workspace-setup" class="table-of-contents__link toc-highlight">Workspace Setup</a></li><li><a href="#upgrading" class="table-of-contents__link toc-highlight">Upgrading</a><ul><li><a href="#major-minor-versions" class="table-of-contents__link toc-highlight">Major-minor Versions</a></li><li><a href="#major-major-versions" class="table-of-contents__link toc-highlight">Major-major Versions</a></li></ul></li><li><a href="#wally" class="table-of-contents__link toc-highlight">Wally</a></li><li><a href="#tests" class="table-of-contents__link toc-highlight">Tests</a></li><li><a href="#luau-rules" class="table-of-contents__link toc-highlight">Luau Rules</a></li><li><a href="#doc-comments" class="table-of-contents__link toc-highlight">Doc Comments</a></li><li><a href="#license-credits" class="table-of-contents__link toc-highlight">License Credits</a><ul><li><a href="#favicon" class="table-of-contents__link toc-highlight">Favicon</a></li></ul></li></ul></div></div></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Shae A. Built with Moonwave and Docusaurus</div></div></div></footer></div>
<script src="/GreenTea/assets/js/runtime~main.64b2da8d.js"></script>
<script src="/GreenTea/assets/js/main.586aa33d.js"></script>
</body>
</html>